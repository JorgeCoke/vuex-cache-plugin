var TIME_EXPIRATION=3e4,CACHE={},toString=function(t){return"string"==typeof t?t:JSON.stringify(t)},keyFromArgs=function(t){var e=toString(t[0]);return t[1]&&t.length>=3&&(e+="_"+toString(t[1])),e},clearCache=function(){for(var t in CACHE)CACHE[t]&&delete CACHE[t]};module.exports=function(t){return TIME_EXPIRATION=t||TIME_EXPIRATION,function(t){var e=t.dispatch;t.dispatch=function(){for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];var n=r[r.length-1];if(n&&n.enableVuexCachePlugin){n.clearAllCache&&clearCache();var C=keyFromArgs(r);if(!CACHE[C]||n.forceRefreshCache)return CACHE[C]={data:e.apply(t,r),timestamp:(new Date).getTime(),timeExpiration:n.timeExpiration||TIME_EXPIRATION},CACHE[C].data;var E=CACHE[C];return E&&E.timestamp>(new Date).getTime()-E.timeExpiration?E.data:(CACHE[C]={data:e.apply(t,r),timestamp:(new Date).getTime(),timeExpiration:n.timeExpiration||TIME_EXPIRATION},CACHE[C].data)}e.apply(t,r)}}};